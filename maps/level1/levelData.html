<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Map Data</title>
</head>
<body>
    <!-- //* [[insert mapdata in json-text format here (mapData.innerHTML)]] -->
    <p id="mapData"></p>

    <div id="formHolder"></div>

    <script>
        //Pseudo: window.onload send post form back to index.html with mapData

        const mapData = document.getElementById("mapData");
        const formDiv = document.getElementById("formHolder");
        const form = document.createElement("form");
        let input = document.createElement("input");

        let formObj = {
            loadedOnce: true, 
            screen1Data: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 44, 1, 1, 1, 1, 1, 1, 1, 32, 39, 39, 39, 39, 39, 39, 44, 1, 1, 1, 1, 9, 1, 1, 1, 43, 44, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 43, 44, 44, 44, 44, 45, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 18, 18, 18, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 37, 37, 37, 30, 25, 1, 1, 1, 1, 1, 1, 1, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 36, 37, 37, 25, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 36, 37, 25, 24, 37, 25, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 15, 2, 29, 1, 15, 1, 1, 1, 36, 37, 25, 3, 24, 37, 37, 25, 15, 1, 1, 1, 1, 1, 9, 1, 37, 37, 37, 37, 37, 37, 37, 37, 37, 57, 58, 58, 58, 58, 59, 37, 37, 37, 37, 57, 58, 58, 40, 40, 40], 
            screen2Data: [29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 18, 18, 18, 18, 18, 18, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 51, 51, 51, 51, 51, 51, 51, 1, 16, 1, 16, 1, 16, 1, 16, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 18, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 51, 51, 1, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 51, 51, 51, 51, 32, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 9, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 39, 39, 39, 39, 1, 1, 17, 1, 17, 1, 1, 10, 1, 10, 1, 10, 1, 1, 10, 1, 10, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 43, 44, 44, 44, 44, 44, 1, 39, 1, 44, 44, 44, 44, 44, 44, 44, 44, 44, 1, 1, 1, 1, 1, 1, 43, 44, 44, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 15, 1, 17, 2, 1, 43, 44, 44, 44, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 44, 31, 44, 44, 44, 44, 44, 44, 44, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], 
            screen3Data: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 32, 39, 39, 39, 39, 39, 39, 39, 39, 39, 1, 39, 39, 1, 39, 1, 39, 1, 39, 1, 39, 1, 39, 1, 51, 29, 1, 1, 1, 61, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 26, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 1, 1, 1, 1, 1, 29, 1, 1, 9, 1, 9, 1, 9, 1, 1, 26, 1, 1, 1, 1, 1, 1, 1, 26, 51, 1, 1, 1, 1, 1, 51, 51, 1, 51, 1, 51, 1, 51, 1, 51, 51, 26, 26, 17, 26, 26, 26, 26, 51, 51, 52, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 51, 51, 51, 51, 51, 39, 39, 39, 50, 51, 51, 51, 51, 52, 1, 1, 46, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 46, 46, 2, 1, 9, 1, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 50, 46, 16, 50, 51, 51, 51, 51, 52, 1, 1, 1, 9, 1, 1, 1, 1, 1, 16, 1, 16, 1, 16, 1, 50, 51, 50, 51, 51, 58, 58, 58, 58, 51, 52, 40, 40, 40, 40, 40, 40, 50, 51, 51, 51, 51, 51, 51, 51, 51, 51],
            screen4Data: [32, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 32, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 32, 39, 32, 39, 1, 39, 1, 39, 39, 1, 39, 39, 1, 39, 39, 1, 39, 39, 1, 39, 1, 39, 32, 39, 32, 29, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 29, 29, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 29, 29, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 29, 29, 1, 39, 39, 39, 32, 1, 1, 39, 39, 39, 1, 1, 1, 39, 39, 39, 1, 1, 32, 39, 39, 39, 1, 29, 29, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 29, 29, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 39, 39, 39, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 29, 29, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 29, 29, 1, 1, 1, 1, 29, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 1, 1, 29, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51],
            layout: [[1, 1], [1, 2], [2, 2], [2, 3]],
            width: 25,
            height: 14,
            tileWidth: 32,
            tileHeight: 32,
            enemyPosArr: // eks: bat: [[x, y, w, h, ymin, ymax]]  // xmin and xmax for mark-type enemy
            [
                {
                bat: [[275, 300, 30, 17, 200, 625]],
                mark: [[1200, 230, 87, 90, 975, 1475], [100, 745, 87, 90, 0, 600], [300, 360, 87, 90, 300, 700]]
                },{
                bat: [[13*64 + 16, 10*64, 30, 17, 6*64, 13*64], [15*64 + 16, 8*64, 30, 17, 6*64, 13*64]],
                mark: [
                    [1*64, 7*64 + 38, 87, 90, 1*64, 5*64], 
                    [19*64, 8*64 + 38, 87, 90, 16*64, 24*64], 
                    [14*64, 1*64 + 14, 87*2, 90*2, 8*64, 17*64]
                    ]
                },{
                bat: [
                    [2*64 + 16, 8*64, 30, 17, 5*64, 9*64], 
                    [4*64 + 16, 7*64, 30, 17, 5*64, 9*64], 
                    [6*64 + 16, 6*64, 30, 17, 5*64, 9*64], 
                    [8*64 + 16, 5*64, 30, 17, 5*64, 9*64]
                    ],
                mark: [
                    [1*64, 2*64 + 38, 87, 90, 0*64, 5*64], 
                    [13*64, 7*64 + 38, 87, 90, 12*64, 18*64], 
                    [9*64, 10*64 + 14, 87*2, 90*2, 8*64, 23*64]
                    ]
                },{
                bat: [[]],
                mark: [[]]
                }
            ],
            screenCompletePos: [[24, 0],[0, 0],[24, 0],[100, -100]], //x and y (in tile number) //100 pga. last screen
            screenSpawnPos: [[24, 10],[0, 10],[0, 10],[23, 10]]
        }

        form.action = "../../index.html";
        form.method = "GET";
        input.type = "text";
        input.name = "mapData";
        input.setAttribute('value', JSON.stringify(formObj));//mapData.innerHTML);
        form.appendChild(input);
        formDiv.appendChild(form);
        
        console.log(form, formDiv);

        form.submit(); //send form(GET) to index.html

    </script>
</body>
</html>